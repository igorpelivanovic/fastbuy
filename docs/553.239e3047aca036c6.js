"use strict";(self.webpackChunkfastBuy=self.webpackChunkfastBuy||[]).push([[553],{4553:(E,u,n)=>{n.r(u),n.d(u,{SearchPageModule:()=>B});var c=n(6895),i=n(4418),h=n(2481),g=n(2340),t=n(8256),d=n(2468),m=n(1481),p=n(1652),f=n(8559);function S(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",3)(2,"h1"),t._uU(3," results for "),t.TgZ(4,"span",4),t._uU(5),t.qZA()()(),t._UZ(6,"app-grid-system",5),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.hij(' "',e.searchValue,'" '),t.xp6(1),t.Q6J("loading",e.loading)("products",e.productsList)}}function v(o,s){1&o&&t._UZ(0,"app-not-found")}const P=[{path:"",component:(()=>{class o{constructor(e,r,a,l,M,T){this.document=e,this.route=r,this.router=a,this.dataService=l,this.filterBoxService=M,this.title=T,this.searchValue="",this.loading=!1,this.products=[],this.limit=10,this.fullLoad=!1,this.isError=!1}ngOnInit(){this.route.queryParamMap.subscribe(e=>{e.get("q")?(this.searchValue=e.get("q")||"",this.getData(),this.title.setTitle(`${this.searchValue} - ${g.lW}`)):this.router.navigate(["home"])})}getData(){this.loading||this.fullLoad||(this.loading=!0,this.productsSubscription=this.dataService.getProductsFromSearch({q:this.searchValue,limit:this.limit}).subscribe({next:e=>{this.products.push(...e.products),e.limit+e.skip==e.total&&(this.fullLoad=!0)},error:e=>{console.log(e)},complete:()=>{this.loading=!1,this.filterBoxService.updateOptions(this.products)}}))}onScroll(){this.document.documentElement.offsetHeight<=this.document.documentElement.scrollTop+this.document.documentElement.clientHeight+80&&this.getData()}get productsList(){return this.products}get isErrorRequest(){return this.isError}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.K0),t.Y36(i.gz),t.Y36(i.F0),t.Y36(d.D),t.Y36(h.X),t.Y36(m.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-search-page"]],hostBindings:function(e,r){1&e&&t.NdJ("scroll",function(l){return r.onScroll(l.target)},!1,t.evT)},features:[t._Bn([h.X])],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["errorTpm",""],[1,"titleContainer"],[1,"marker"],[3,"loading","products"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,S,7,3,"ng-container",1),t.YNc(2,v,1,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!r.isErrorRequest)("ngIfElse",a)}},dependencies:[c.O5,p.Y,f.w],styles:[".container[_ngcontent-%COMP%]{gap:0px 20px}"]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.Bz.forChild(P),i.Bz]}),o})();var y=n(8183),C=n(2867);let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,x,y.r,C.w]}),o})()}}]);